# Bakery Project

Это тестовое задание, демонстрирующее реализацию веб-приложения для пекарни с использованием многослойной архитектуры.

Проект демонстрирует применение современных практик разработки, включая чистую архитектуру, SOLID принципы и эффективное использование ASP.NET.

## Структура проекта

Проект разделен на следующие слои:

### Domain

Содержит доменную логику приложения. Здесь реализованы классы булочек через механизм наследования:

- `Bun`: Базовый класс для всех булочек
- Наследники класса `Bun`: Реализуют специфическую логику расчета стоимости для разных видов булочек

### Application

Отвечает за обработку сценариев использования приложения с помощью паттерна CQRS. В этом слое реализована аутентификация на базе ASP.NET Identity.

### Infrastructure

- #### Infrastructure.Storage

Отвечает за хранение данных о булочках. Реализовано с использованием Entity Framework.

- #### Infrastructure.Identity

Управляет хранением аутентификационных данных пользователей. Использует Entity Framework для работы с базой данных и включает фабрику для создания JWT токенов.

- #### Infrastructure.Web

Содержит контроллеры API и валидаторы запросов. Валидация реализована с помощью библиотеки FluentValidation.

### Startup

Точка входа в приложение. Здесь происходит:

- Настройка приложения на основе конфигурации
- Настройка Swagger для документирования API
- Конфигурация JWT аутентификации
- Регистрация зависимостей в DI-контейнере

## Запуск проекта

1. Убедитесь, что у вас установлен Docker.
2. Клонируйте репозиторий: `git clone [URL репозитория]`
3. Перейдите в директорию проекта: `cd Bakery`
4. Убедитесь, что у вас установлен сертификат разработчика .NET:
   1. Выполните команду: `dotnet dev-certs https`
   2. Выполните команду: `dotnet dev-certs https --trust`
5. Выполните экспорт сертификата командой:
`dotnet dev-certs https --export-path C:\Users\{имя пользователя}\AppData\Roaming\ASP.NET\https\bakery.pem --format Pem --no-password`
6. Запустите docker-compose: `docker-compose up -d`

## API документация

После запуска проекта, документация API доступна по адресу: `https://localhost/api/swagger`

## Аутентификация

Для доступа к защищенным эндпоинтам необходимо получить JWT токен, отправив POST запрос на `/api/account/token` с корректными учетными данными.